import{r as o,j as e,b as h}from"./app-Bx9_NfaH.js";import{p as u}from"./index.min-EaNMP8_V.js";function j(){const[s,i]=o.useState(""),[r,a]=o.useState(null),[d,c]=o.useState(""),l=async t=>{var p,x;try{const n=await h.post("/scan/search",{barcode:t});a(n.data),c("")}catch(n){a(null),c(((x=(p=n.response)==null?void 0:p.data)==null?void 0:x.message)||"Error")}};return e.jsxs("div",{style:{padding:"20px"},children:[e.jsx("h1",{style:{textAlign:"center"},children:"Scan Product"}),e.jsx("div",{style:{display:"flex",justifyContent:"center",margin:"20px 0"},children:e.jsxs("div",{style:{width:"100%",maxWidth:"500px",border:"2px solid #333",borderRadius:"8px",overflow:"hidden",position:"relative"},children:[e.jsx(u,{containerStyle:{width:"100%",height:"400px"},onSuccess:t=>{i(t),l(t)},onError:t=>console.error(t)}),e.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",border:"2px dashed red",boxSizing:"border-box",pointerEvents:"none"}})]})}),!s&&e.jsx("p",{style:{textAlign:"center",marginTop:"10px"},children:"ðŸ”´ Scanning..."}),e.jsx("input",{type:"text",value:s,onChange:t=>i(t.target.value),placeholder:"Enter barcode manually",style:{padding:"8px",width:"100%",maxWidth:"500px",display:"block",margin:"10px auto"}}),e.jsx("button",{onClick:()=>l(s),style:{display:"block",margin:"10px auto"},children:"Search"}),d&&e.jsx("p",{style:{color:"red",textAlign:"center",marginTop:"10px"},children:d}),r&&e.jsxs("div",{style:{marginTop:"20px",textAlign:"center"},children:[e.jsx("h2",{children:r.name}),e.jsxs("p",{children:["Code: ",r.code]}),e.jsxs("p",{children:["Barcode: ",r.barcode]})]})]})}export{j as default};
