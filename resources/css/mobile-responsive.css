/* Mobile Responsive Utilities for POS System */

/* Base mobile-first typography */
html {
    font-size: 14px;
}

@media (min-width: 640px) {
    html {
        font-size: 16px;
    }
}

/* Touch-friendly interactions */
@media (max-width: 1023px) {

    /* Minimum touch target size: 44px x 44px */
    button,
    .btn,
    a.btn,
    input[type="button"],
    input[type="submit"],
    input[type="reset"] {
        min-height: 44px;
        min-width: 44px;
        padding: 8px 12px;
    }

    /* Form elements */
    input[type="text"],
    input[type="email"],
    input[type="password"],
    input[type="number"],
    input[type="tel"],
    select,
    textarea {
        min-height: 44px;
        padding: 10px 12px;
        font-size: 16px;
        /* Prevents zoom on iOS */
    }

    /* Checkbox and radio buttons */
    input[type="checkbox"],
    input[type="radio"] {
        min-height: 20px;
        min-width: 20px;
        transform: scale(1.2);
    }
}

/* Responsive spacing utilities */
@media (max-width: 639px) {
    .responsive-p-sm {
        padding: 0.5rem;
    }

    .responsive-m-sm {
        margin: 0.5rem;
    }

    .responsive-gap-sm {
        gap: 0.5rem;
    }

    .responsive-text-xs {
        font-size: 0.75rem;
    }
}

@media (min-width: 640px) {
    .responsive-p-sm {
        padding: 1rem;
    }

    .responsive-m-sm {
        margin: 1rem;
    }

    .responsive-gap-sm {
        gap: 1rem;
    }

    .responsive-text-xs {
        font-size: 0.875rem;
    }
}

/* Mobile-optimized grid layouts */
.mobile-grid-auto {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(80px, 1fr));
    gap: 0.5rem;
}

@media (min-width: 480px) {
    .mobile-grid-auto {
        grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
        gap: 0.75rem;
    }
}

@media (min-width: 768px) {
    .mobile-grid-auto {
        grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
        gap: 1rem;
    }
}

/* Responsive container */
.mobile-container {
    width: 100%;
    max-width: 100vw;
    padding-left: 0.5rem;
    padding-right: 0.5rem;
}

@media (min-width: 640px) {
    .mobile-container {
        padding-left: 1rem;
        padding-right: 1rem;
    }
}

@media (min-width: 1024px) {
    .mobile-container {
        max-width: 1200px;
        margin: 0 auto;
        padding-left: 1.5rem;
        padding-right: 1.5rem;
    }
}

/* Safe area insets for mobile devices */
@supports (padding: max(0px)) {
    .safe-area-inset {
        padding-left: max(0.5rem, env(safe-area-inset-left));
        padding-right: max(0.5rem, env(safe-area-inset-right));
        padding-top: max(0.5rem, env(safe-area-inset-top));
        padding-bottom: max(0.5rem, env(safe-area-inset-bottom));
    }
}

/* Landscape orientation adjustments */
@media (max-height: 500px) and (orientation: landscape) {
    .landscape-compact {
        height: calc(100vh - 2rem);
        padding: 0.5rem;
    }

    .landscape-compact .product-grid {
        grid-template-rows: repeat(auto-fit, minmax(80px, 1fr));
    }

    .landscape-compact .cart-section {
        height: calc(100vh - 4rem);
    }
}

/* High DPI displays */
@media (-webkit-min-device-pixel-ratio: 2),
(min-resolution: 192dpi) {
    .hdpi-optimized {
        image-rendering: -webkit-optimize-contrast;
        image-rendering: crisp-edges;
    }
}

/* Dark mode support (if needed) */
@media (prefers-color-scheme: dark) {
    .dark-mode-adaptive {
        color-scheme: dark;
    }
}

/* Reduced motion accessibility */
@media (prefers-reduced-motion: reduce) {

    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
    }
}

/* Focus improvements for mobile */
@media (max-width: 1023px) {
    *:focus {
        outline: 3px solid #3b82f6;
        outline-offset: 2px;
    }

    button:focus,
    input:focus,
    select:focus,
    textarea:focus {
        box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.5);
    }
}

/* Sticky elements positioning for mobile */
.mobile-sticky-top {
    position: sticky;
    top: 0;
    z-index: 10;
}

@supports (position: sticky) {
    .mobile-sticky-top {
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(10px);
    }
}

/* Responsive text sizes */
.responsive-title {
    font-size: 1.25rem;
    font-weight: 700;
}

@media (min-width: 640px) {
    .responsive-title {
        font-size: 1.5rem;
    }
}

@media (min-width: 1024px) {
    .responsive-title {
        font-size: 1.875rem;
    }
}

.responsive-subtitle {
    font-size: 1rem;
    font-weight: 600;
}

@media (min-width: 640px) {
    .responsive-subtitle {
        font-size: 1.125rem;
    }
}

.responsive-body {
    font-size: 0.875rem;
}

@media (min-width: 640px) {
    .responsive-body {
        font-size: 1rem;
    }
}

.responsive-caption {
    font-size: 0.75rem;
}

@media (min-width: 640px) {
    .responsive-caption {
        font-size: 0.875rem;
    }
}

/* PWA-like styling for mobile */
.mobile-app-bar {
    height: 56px;
    display: flex;
    align-items: center;
    padding: 0 16px;
    background: #ffffff;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

/* Bottom navigation for mobile */
.mobile-bottom-nav {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    height: 60px;
    background: #ffffff;
    border-top: 1px solid #e5e7eb;
    display: flex;
    justify-content: space-around;
    align-items: center;
    z-index: 50;
}

@supports (padding-bottom: env(safe-area-inset-bottom)) {
    .mobile-bottom-nav {
        padding-bottom: env(safe-area-inset-bottom);
        height: calc(60px + env(safe-area-inset-bottom));
    }
}

/* Swipe gestures area */
.swipe-area {
    touch-action: pan-x pan-y;
    -webkit-overflow-scrolling: touch;
}

/* Performance optimizations for mobile */
.mobile-optimized {
    -webkit-transform: translateZ(0);
    transform: translateZ(0);
    backface-visibility: hidden;
    perspective: 1000px;
}

/* Viewport-based units fallback */
.full-height-mobile {
    height: 100vh;
    /* Fallback for older browsers */
    height: calc(var(--vh, 1vh) * 100);
}

/* JavaScript hook to set --vh custom property */
/* Add this to your main JS file:
let vh = window.innerHeight * 0.01;
document.documentElement.style.setProperty('--vh', `${vh}px`);
window.addEventListener('resize', () => {
    let vh = window.innerHeight * 0.01;
    document.documentElement.style.setProperty('--vh', `${vh}px`);
});
*/
